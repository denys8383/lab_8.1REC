#include <iostream>
#include <cstring>

using namespace std;

// Функція Count рекурсивно обчислює кількість символів '+', '-', та '=' в рядку str,
// починаючи з індексу index. Параметр count використовується для підрахунку кількості.
int Count(char* str, size_t index, int count)
{
    // Базовий випадок: якщо поточний символ - нульовий символ, повертаємо кількість.
    if (str[index] == '\0') {
        return count;
    }

    // Якщо поточний символ - один із символів '+', '-', або '=', збільшуємо count і рекурсивно викликаємо для наступного символу.
    if (str[index] == '+' || str[index] == '-' || str[index] == '=')
    {
        return Count(str, index + 1, count + 1);
    }

    // Якщо поточний символ не є '+', '-', або '=', рекурсивно викликаємо для наступного символу без зміни count.
    return Count(str, index + 1, count);
}

// Функція Change рекурсивно замінює символи '+', '-', та '=' на два символи '*',
// починаючи з індексу i в рядку str і записує результат у рядок dest, починаючи з індексу j.
char* Change(char* dest, const char* str, int i, int j)
{
    // Якщо поточний символ не є нульовим символом.
    if (str[i] != '\0')
    {
        // Замінюємо тільки символи '+', '-', та '=' на два символи '*'.
        if (str[i] == '+' || str[i] == '-' || str[i] == '=')
        {
            dest[j++] = '*';
            dest[j++] = '*';
        }
        else
        {
            // Якщо поточний символ не є '+', '-', або '=', копіюємо його без змін.
            dest[j++] = str[i];
        }

        // Рекурсивно викликаємо для наступного символу.
        return Change(dest, str, i + 1, j);
    }
    else
    {
        // Якщо досягнуто кінця рядка str, завершуємо рядок dest і повертаємо його.
        dest[j] = '\0';
        return dest;
    }
}

int main()
{
    // Оголошення рядка str розміром 101 символ.
    char str[101];
    cout << "Enter string: " << endl;

    // Введення рядка з консолі.
    cin.getline(str, 100);

    // Виведення кількості символів '+', '-', та '=' у введеному рядку.
    cout << "String contains " << Count(str, 0, 0) << " symbols '+', '-', and '='." << endl;

    // Створення динамічного масиву dest1 розміром 151 символ та ініціалізація першого елемента як нульового символу.
    char* dest1 = new char[151];
    dest1[0] = '\0';

    // Виклик функції Change для модифікації рядка str і запис результату у dest2.
    char* dest2 = Change(dest1, str, 0, 0);

    // Виведення модифікованого рядка (параметр) та модифікованого рядка (результат).
    cout << "Modified string (param): " << dest1 << endl;
    cout << "Modified string (result): " << dest2 << endl;

    // Звільнення пам'яті, виділеної для dest1.
    delete[] dest1;

    return 0;
}
